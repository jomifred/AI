\documentclass[a4paper]{article}

\usepackage{graphicx}
\usepackage{color}

\usepackage[brazil]{babel}
\usepackage[latin1]{inputenc}
%\usepackage[small]{titlesec} % personalizaçao de títulos
\usepackage{enumerate}
\usepackage{html}
\usepackage{hyperref}
%\usepackage{fitch} % para escrever provas
% cores
\hypersetup{colorlinks=true,linkcolor=blue,citecolor=blue,urlcolor=blue}
%\hypersetup{pdfpagemode=None, pdfview=FitWidth}
\hypersetup{pdfborder=0 0 0}
\usepackage{multicol}

\sloppy

\parindent 0cm
\parskip   3pt

\newcommand{\fazTituloUmaCol}[1]{

 \htmladdnormallink{Universidade Federal de Santa Catarina}
    {http://www.ufsc.br} \\
 \htmladdnormallink{\textbf{Departamento de Automação e Sistemas}}
    {http://www.das.ufsc.br}\\
 %\htmladdnormallink{\textbf{Programa de Pós-Graduação em Engenharia de Automação e Sistemas}}
  %  {http://www.pgeas.ufsc.br}\\
 \htmladdnormallink{\textbf{Inteligência Artificial}}
    {https://jomifred.github.io/ia}\\
\htmladdnormallink{Professores: Jomi F. Hübner} % \& Marcelo Stemmer}
    {https://jomifred.github.io}\\

 \latex{
         \begin{center}
                \Large{#1}\\[1.5cm]
         \end{center}
 }
}


\begin{document}

\fazTituloUmaCol{\textbf{Manual de utilização dos algoritmos de\\Busca em Java}}


\section{Introdução}

Este manual explica como utilizar o pacote de algoritmos de busca
implementados em Java. Com este pacote é possível resolver um problema
de busca especificando-se apenas a classe que representa os estados,
os algoritmos de busca
\begin{itemize}
\item largura,
\item profundidade,
\item profundidade iterativa,
\item bi-direcional,
\item heurística e
\item subida da montanha
\end{itemize}
já estão implementados.


\section{A interface Estado}

A classe que representa o ``estado" para cada problema específico
deve implementar a interface \texttt{Estado} que tem os seguintes
métodos:

%\begin{center}
%  \includegraphics[width=.5\textwidth]{figuras/interfaceEstado.eps}
%\end{center}

\begin{itemize}
\item O método \texttt{getDescricao()} deve retornar uma string descrendo o
  problema. Esse método é eventualmente utilizado pela interface do
  programa.

\item O método \texttt{ehMeta()} deve retornar \textit{true} se o estado for o
  estado meta.

\item O método \texttt{custo()} retorna o custo de gerar o estado (não
  o custo acumulado, este é calculado no Nodo da árvore).

\item O método \texttt{sucessores()} deve retornar uma lista de
  estados sucessores.

\end{itemize}


\section{Exemplo}

Para demonstrar a utilização do pacote, será resolvido o
problema do \emph{O homem, o lobo, o carneiro e o cesto de alface},
que tem o seguinte enunciado:

\begin{quote}
  Uma pessoa, um lobo, um carneiro e um cesto de alface estão à beira
  de um rio. Dispondo de um barco no qual pode carregar apenas um dos
  outros três, a pessoa deve transportar tudo para a outra margem.
  Determine uma série de travessias que respeite a seguinte condição:
  em nenhum momento devem ser deixados juntos e sozinhos o lobo e o
  carneiro ou o carneiro e o cesto de alface.
\end{quote}

Para resolver este problema, os estados devem ter as seguintes
informações:
\begin{itemize}
\item Em que lado do rio estão cada um dos personagens (o homem, o
  lobo, o carneiro e o cesto de alface).
\item Estrutura de dados: quatro variáveis caracter onde 'd' representa lado direito e 'e' lado esquerdo.

\begin{verbatim}
char homem, lobo, carneiro, alface;
\end{verbatim}

\item Estado inicial:
\begin{verbatim}
homem='e', lobo='e', carneiro='e', alface='e';
\end{verbatim}


\item Estado meta:
\begin{verbatim}
homem='d', lobo='d', carneiro='d', alface='d';
\end{verbatim}

\end{itemize}

A geração de sucessores pode ser resumida como
\begin{itemize}
\item "levar \textit{x} da margem \textit{w} para a margem \textit{z}"
  \begin{itemize}
  \item \textit{x} é uma das variáveis \{ carneiro, alface, lobo \} ou
    não levar nada,
  \item \textit{w} é 'd' ou 'e',
  \item \textit{z} é 'd' ou 'e'.
  \end{itemize}
\item Pré-condições
  \begin{itemize}
  \item \textit{w} é diferente de \textit{z},
  \item o homem estar na margem \textit{w},
  \item o homem estar na mesma margem de \textit{x},
  \item não ficar na mesma margem ((o lobo e o carneiro) ou (o carneiro
    e o alface)) sem o homem.
  \end{itemize}

\item Efeitos
  \begin{itemize}
  \item Se \textit{x} é 'd', vira 'e'.
  \item Se \textit{x} é 'e', vira 'd'.
  \item Se homem é 'd', vira 'e'.
  \item Se homem é 'e', vira 'd'.
  \end{itemize}
\end{itemize}

A implementação desta classe está em \url{https://github.com/jomifred/AI/blob/master/search/java/doc/manual/HLAC.java}.


% Segue o diagrama de classes resumido para este exemplo:

% \begin{center}
% \includegraphics[bb=0 0 444 395,  width=0.8\textwidth]{figuras/hlca.png}
% \end{center}

\subsection{Compilação e execução}

As classes do pacote estão no arquivo \texttt{search-1.0.jar}, portanto
este arquivo deve estar no classpath. Para gerar esse arquivo, no diretório deste projeto execute

\begin{verbatim}
  ./gradlew jar
\end{verbatim}

no windows:
\begin{verbatim}
  gradlew.bat jar
\end{verbatim}

Esse script cria o arquivo \texttt{search-1.0.jar} no diretório \texttt{build/libs}.
Tendo o caminho completo para este arquivo, podemos compilar e executar um novo problema como segue. Por exemplo,
supondo que o seu programa esteja no arquivo \texttt{HLAC.java},

em windows:
\begin{verbatim}
  set CLASSPATH=C:\.....\build\libs\search-1.0.jar;.
  cd src
  javac HLAC.java
  java HLAC
\end{verbatim}

Para unix:
\begin{verbatim}
  export CLASSPATH=..../build/libs/search-1.0.jar:.
  cd src
  javac HLAC.java
  java HLAC
\end{verbatim}



\section{Utilização dos algoritmos de busca}

% Visão geral das classes dos algoritmos de busca:


% \begin{center}
% \includegraphics[bb=0 0 629 477, width=\textwidth]{figuras/busca.png}
% \end{center}

\subsection{Largura, Profundidade e Profundidade Iterativo }

As classes que implementam a interface \texttt{Estado} podem utilizar
os seguintes algoritmos de busca
\begin{itemize}
\item \texttt{new BuscaLargura().busca( Estado inicial )}: recebe o estado
  inicial e retorna o \texttt{Nodo} da árvore de busca que é a solução
  do problema. Com o método \texttt{montaCaminho()} da classe
  \texttt{Nodo}, pode-se imprimir a solução. Retorna \texttt{null} se
  não encontrar a solução.

  No método \texttt{main} está exemplificada a utilização destes
  algoritmos.

  No construtor pode-se informar uma classe para imprimir estatísticas de execução, por exemplo: 
  \texttt{new BuscaLargura(new MostraStatusConsole())}. 
  No exemplo, uma classe de estatísticas fornecida pelo pacote search é usada, mas outras podem ser implementadas.

\item \texttt{new BuscaProfundidade(int max).busca( Estado inicial )}:
  recebe o estado inicial e a profundidade máxima e retorna o
  \texttt{Nodo} solução.

\item \texttt{new BuscaRecursiva(int max).busca( Estado inicial )}:
  implementação recursiva (sem lista de abertos) para a busca em
  profundidade.

\item \texttt{new BuscaIterativo().busca( Estado inicial )}:
  implementação do busca em profundidade iterativo.


\end{itemize}

Mais informações sobre a classe Nodo e como ela pode ser utilizada
podem ser obtidas na \htmladdnormallink{API do
  pacote}{../../apidoc/index.html} e/ou nos programas exemplo
(diretório
\htmladdnormallink{\texttt{src/exemplos}}{../../../src/exemplos}).


\subsection{Busca Bi-Direcional}

Para a utilização do algoritmo de busca bi-direcional, invocado com
\texttt{new BuscaBidirecional().busca( Estado inicial, Estado meta )}, a
classe que representa o estado também deve implementar a interface
\texttt{Antecessor}. Esta interface tem apenas um método:
\begin{itemize}
\item \texttt{antecessores()} que retorna uma lista de estados antecessores
  de um determinado estado.
\end{itemize}

No exemplo
\htmladdnormallink{8-Puzzle}{../../../src/exemplos/Estado8Puzzle.java}
esta interface é implementada.


\subsection{Busca A*}

Para a utilização do algoritmo de busca A*, invocado com
\texttt{new AEstrela().busca( Estado inicial )}, a
classe que representa o estado também deve implementar a interface
\texttt{Heuristica}. Esta interface tem o seguinte método:
\begin{itemize}
\item \texttt{h()} retorna a estimativa de custo para transformar um
  estado no estado meta;
\end{itemize}
Nos seguintes exemplos essa interface é implementada
\begin{itemize}
\item \htmladdnormallink{8-Puzzle}{../../../src/exemplos/Estado8Puzzle.java}.
\item \htmladdnormallink{N-Rainhas}{../../../src/exemplos/EstadoRainhas.java}.
\item \htmladdnormallink{Quadrado
    mágico}{../../../src/exemplos/QuadradoMagico.java}.
\end{itemize}




\subsection{Busca Subida da Montanha}

Para a utilização do algoritmo de busca Subida da Montanha, invocado com
\texttt{new SubidaMontanha().busca( Estado inicial )}, a
classe que representa o estado também deve implementar a interface
\texttt{Aleatorio}. Esta interface tem o seguinte método:
\begin{itemize}
\item \texttt{geraAleatorio()} que gera um estado aleatóriamente.
\end{itemize}
Nos seguintes exemplos essa interface é implementada
\begin{itemize}
\item \htmladdnormallink{N-Rainhas}{../../../src/exemplos/EstadoRainhas.java}.
\item \htmladdnormallink{Quadrado
    mágico}{../../../src/exemplos/QuadradoMagico.java}.
\end{itemize}


\end{document}
